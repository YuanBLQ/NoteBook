# 观察者模式

观察者模式其实就是一种订阅机制，多个「观察者」可以选择一个关心的对象，当这个对象发生改变的时候会自动通知这些关心它的「观察者」，而不用这些「观察者」时刻注意这个对象。

当对象发生改变要想通知关心它的「观察者」首先得知道哪些「观察者」对它感兴趣，所以该对象要有一个小本本记录都有哪些人对它感兴趣，当有人对它不感兴趣的时候从小本本上划掉即可。

上面这些描述换成代码其实就两件事：

1. 一个用于存储订阅者对象用的列表
2. 用于添加、删除订阅者的方法

![](https://pages.isyuan.site/pattern/20210421222837.png)

现在，只要发布者有任何事件发生，它都要遍历一遍订阅者并调用其对象的特定通知方法。

如果一个发布者同时有几十几百个不同的订阅者，我们肯定不希望发布者与这些所有的类都耦合在一起。另外如果有其他人也使用发布者类，

有人如果感兴趣就需要事先告诉该对象。

1. 自身发生变化后通知所有订阅者

